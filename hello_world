#include <stdio.h>
#include <math.h>
#include <windows.h>
int p=0;
int main (){
    printf("Al momento 5 programmini:\n");
    printf("                1)Programma che scrive le potenze del due fino all'overflow\n");
    printf("                2)Programma che scrive i numeri pari minori o uguali a un intero dato\n");
    printf("                3)Programma che calcola il fattoriale di un numero\n");
    printf("                4)Convertitore da base 10 a binario naturale in 32bit\n");
    printf("                5)Convertitore da binario naturale a 32bit a base 10\n");
    printf("                6)Pao\n");
    printf("                7)Calcolatore max, min, med di una sequenza di numeri\n");
    printf("\n                  ^^^^ Scegliere un programma ^^^^\n");
    scanf("%d", &p);
/*programma 1 potenze del due fino all'overflow*/
if (p==1)
    {
        printf("Hai scelto 1)Programma che scrive le potenze del due fino all'overflow\n");
        int i=1, n=1;
        while (n<=32) /*2^30 è il massimo*/
        {
            i=i*2; /*raddoppia sempre il numero*/
            printf("2 alla %d è %d\n", n, i); 
            n++;      /*essendo in c2 si fermerà alla 2^30esima potenza*/
        }
    return(0);
    }
/*programma 2 numeri pari minori di un intero*/
if (p==2)
    {
        printf("Hai scelto 2)Programma che scrive i numeri pari minori o uguali a un intero dato\n");
        int N, pari = 0;
        printf("dammi un intero positivo:\n");
        scanf("%d", &N);
        printf("ecco i numeri pari minori o uguali a %d\n", N);
        while (pari<=N)
        {
            printf("%d\n", pari); /*stampa il numero pari più basso*/
            pari += 2; /*incrementa al successivo numero pari*/
        }
    return(0);   
    }
/*programma 3 fattoriale*/  
if (p==3)
    {
        printf("Hai scelto 3)Programma che calcola il fattoriale di un numero\n");
        int n, m, fatt=1;
        printf("inserisci n:\n");
        scanf("%d", &n);
        if (n<0) /*da errore se il fattoriale non è calcolabile*/
        {
            printf("numero negativo, fattoriale indefinito\n");
        }
        else {
            m = n; /*assegna una variabile ausiliaria per l'output bellino*/
            while (m>1)
            {
                fatt=fatt*m; /*calcola questo passaggio del fattoriale*/
                --m; /*conta quanti passaggi del fattoriale mancano*/
            }
        printf("%d! = %d\n", n, fatt);
        }
    return(0);
    }
/*programma 4 convertitore a binario*/
if (p==4)
{
    printf("Hai scelto 4)Convertitore da base 10 a binario naturale in 32bit\n");
    int n, r, pot, esp=0, som=0;
    printf("Inserisci il numero decimale da convertire: ");
    scanf("%d", &n);
    while (n>0) /*quando n è uguale a 0 avrò già salvato l'ultimo bit nel ciclo precedente*/
    {
        r = n % 2; /*calcolo il resto della divisione (prima di farla obv)*/
        pot = pow(10, esp); /*calcolo in quale casella di potenza di 10 assegnare la cifra*/
        som += (r * pot); /*aggiungo la cifra alla somma*/
        n/=2; /*divido il numero per 2*/
        esp++; /*incremento la potenza per la casella successiva*/
    }
    printf("Il numero convertito e' %d", som);
}
/*programma 5 convertitore da bin a dec*/
if (p==5)
{
    printf("Hai scelto 5)Convertitore da binario naturale a 32bit a base 10\n");
    int n, r, c, esp=0, som=0; /*n- numero in bin, r- resto (pari, dispari), c- cifra da stampare*/
    printf("Inserisci il numero in binario naturale: ");
    scanf("%d", &n);
    while (n!=0) /*devo leggere le cifre da dx a sx*/
    {
        r=n%2; /*se è pari l'ultima cifra è zero, se è dispari uno*/
        c=r*pow(2, esp); /*assegnamo la corretta casella alla prima cifra e alle successive in base alla potenza di 10*/
        som+=c; /*aggiungiamo subito al numero quello appena processato*/
        esp++; /*incrementiamo la casella per la prossima cifra*/
        n/=10; /*togliamo la cifra più a dx appena processata*/
    }
    printf("Il numero convertito e' %d", som); /*quando la divisione porta a zero posso stampare perchè non ho più cifre*/   
}
/*programma 6 pcuore*/
if (p==6)
{
    int i, j, n; /*i=altezza(numero di righe), j=variabile contatore, n=larghezza c*/
    printf("seleziona la dimensione(numero intero): \n");
    scanf("%d", &n);
    printf("\n");
    for (i = n / 2; i <= n; i += 2) { /*parte superiore del cuore, i determina l'altezza del cuore(quante righe) i+=2 fa stampare solo le righe dispari del cuore*/
        for (j = 1; j < n - i; j += 2) { /*stampa il numero di spazi vuoti a sinistra (aumenta nella parte alta)*/
            printf(" ");
        }
        for (j = 1; j <= i; j++) { /*stampa i punti a sx di ogni riga e aumenta di 1 finchè non è uguale a i */
            printf("*");
        }
        for (j = 1; j <= n - i; j++) {/*determina il numero di spazi vuoti tra i due lati del cuore*/
            printf(" ");
        }
        for (j = 1; j <= i; j++) { /*determina il numero di punti a dx di ogni riga*/
            printf("*");
        }
        printf("\n");
    }
    for (i = n; i >= 1; i--) { /*parte inferiore del cuore*/
        for (j = i; j < n; j++) { /*numero di spazi vuoti prima delle righe*/
            printf(" ");
        }
        for (j = 1; j <= (i * 2) - 1; j++) { /*numero di punti nella parte inferiore*/
            printf("*");
        }
        printf("\n");
    }
}
/*programma 7 max min e med con array*/
if (p==7)
{
    printf("Hai scelto 7)Programma che calcola max min e med dei numeri inseriti\n");
    int dim=1, max, min, ans=0, i=0, v[100]; /*dim= dimensione dell'array, numero di cifre*/
    char q='n';
    float med=0.0f; /*media float per fare la divisione corretta*/
    printf("scrivi una sequenza di interi, scrivi -1 per terminare:\n");
    while (ans!=1)/*finchè ans==0 (la risposta non è si) il ciclo continua*/
    {
        scanf("%d", &v[i]); /*scannerizza i numeri di input per ogni casella ennesima*/
        if (v[i]==-1) /*rileva se è stato inserito -1*/
        {
            printf("vuoi terminare la sequenza di numeri? Y/N\n"); /*conferma la volontà di terminare*/
            scanf(" %c", &q); /*leggere la risposta, aggiungo lo spazio prima del %c per non leggere eventuali caratteri tipo newline*/
            if (q=='y' || q=='Y') /*se è affermativa evita il ciclo successivo, se è negativa aggiunge l'uno alla stringa e ripete il ciclo*/
            {
                ans=1; /*segna la risposta affermativa e termina il ciclo*/
            }
        } 
        i++; 
    }
    dim-=2; /*quando il ciclo viene terminato cancella l'ultimo -1 e la casella creata in più (vuota) per l'eventuale ciclo successivo*/
    max=v[0]; /* il max viene assegnato al primo valore (tanto li scanneriziamo tutti)*/
    min=v[0];
    for ( i = 0; i < dim; i++) /*assegna max e min facendo passare tutti i valori inseriti*/
    {
        if (max<v[i])
        {
            max=v[i];
        }
        if (min>v[i])
        {
            min=v[i];
        }  
        med=med+v[i]; /*aggiunge alla somma dei numeri il numero ennesimo (avremo la somma di tutti i numeri)*/ 
    }
    med=med/dim; /*calcola la media*/
    printf("il max e': %d, il min e': %d, la media e' %f", max, min, med);    
} 
/*programma 8 max min e med senza array*/
if (p==8)
{
    int n=0, i=0, ans=0, max, min, som=0;
    char q;
    float med;
    printf("Scrivi una sequenza di numeri, scrivi -1 per terminare la sequenza:\n");
    while (ans!=1)
    {
        scanf("%d", &n);
        if (n==-1)
        {
            printf("<<  Vuoi terminare la sequenza o considerare il -1 nella sequenza?  >>\n<<    Y/N --- Y per terminare / N per considerare questo -1  >>\n");
            scanf(" %c", &q);
            if (q=='y' || q=='Y') /*se la risposta è affermativa rende ans uguale a 1*/
            {
                ans=1; /*ans uguale a 1 fermerà il prossimo if e quindi considererà -1 come valore non valido (se scelgo no verrà considerato il -1)*/
            } 
            printf("<<  Hai scelto di continuare, scrivi ulteriori numeri, scrivi nuovamente -1 per terminare:   >>\n");
        }
        if (ans==0)
        {
            if (i==0) /*se è il primo ciclo assegna max e min al primo numero*/
            {
                max=n;
                min=n;
            }
            if (n>max) /*se n è maggiore del max diventa il max*/
            {
                max=n;
            }
            if (n<min) /*se ne è minore del min diventa il min*/
            {
                min=n;
            }
            i++; /*conta quanti cicli validi (quelli con ans==o) ho fatto*/
            som+=n; /*aggiunge il valori validi alla media*/    
            //printf("i vale %d, som vale %d, max vale %d, min vale %d\n", i, som, max, min);     
        }              
    }
    med=(float)som/i;
    printf("Il max e' %d, il min e' %d, la med e' %f", max, min, med);    
}
/*programma 8 inversione stringa di input*/
if (p==9)
{
    printf("Hai scelto programma 8)Programma che inverte una serie di valori\n");
    int A[100], i=0, n=0;
    printf("Quanti valori vuoi inserire?\n");
    scanf("%d", &n);
    printf("Scrivi i valori: \n");
    while (i<n)
    {
        scanf("%d", &A[i]); /*legge il valore e lo mette nella i-esima casella*/
        i++; /*aumenta la casella*/
    }
    printf("I numeri in ordine inverso sono: ");
    while (n>=1) /*parte dal numero massimo di caselle e scende fino all'ultima (la 0)*/
    {
        printf("%d-", A[n-1]); /*stampa la n-1 per evitare di stampare il carattere vuoto posto nella casella dopo l'ultima inserita*/
        n--; /*scende fino ad arrivare alla prima casella inserita*/
    }    
}

if (p>9 || p<0)
{
    printf("programma inesistente");
}
Sleep (500);
}
